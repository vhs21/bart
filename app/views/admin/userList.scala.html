@(users: Seq[User])(implicit request: RequestHeader, messagesProvider: MessagesProvider)

@main("Bart's users") {

<h3>Users</h3>

@request.flash.data.map{ case (name, value) =>
    <div>@name: @value</div>
}

<table>
    <thead>
    <tr>
        <th>id</th>
        <th>username</th>
        <th>email</th>
        <th>role</th>
        <th>change role</th>
        <th>delete</th>
    </tr>
    </thead>
    <tbody>
    @for(user <- users) {
    <tr>
        <td>@user.id.get</td>
        <td>@user.username</td>
        <td>@user.email</td>
        <td>@user.role</td>
        <td>
            @helper.form(routes.UserController.changeRole(user.id.get, user.role.id)){
            @helper.CSRF.formField
            <button>--</button>
            }
        </td>
        <td>
            @helper.form(routes.UserController.remove(user.id.get)){
            @helper.CSRF.formField
            <button>x</button>
            }
        </td>
    </tr>
    }
    </tbody>
</table>

<hr/>

}